import{d as v,r as g,z as f,B as h,D as E,c as r,i as d,a as e,f as m,F as y,x,p as N,o,t as n,l as q,m as w,E as k}from"./index-ca90286d.js";import{H as B}from"./Header-d700b98c.js";import{N as D}from"./NotificationPopUp-aebb2319.js";import{r as R}from"./ArrowUpCircleIcon-48335c86.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const C={class:"container"},H={class:"grow p-4 sm:p-6 lg:p-8"},P={class:"page-container"},S={class:"content-wrapper"},U={class:"table-container"},z={class:"responsive-table"},A={key:0},F={"data-label":"Número"},L={"data-label":"Data/Hora"},I={"data-label":"Unidade"},M={"data-label":"Envio"},$={class:"envio-cell"},j={"data-label":"Ações",class:"text-center"},G=["onClick"],J=v({__name:"EmbalagemView",setup(K){const u=N(),l=g([]),t=f({visible:!1,title:"",message:""});function _(s,a){t.title=s,t.message=a,t.visible=!0}function p(){t.visible=!1}h(async()=>{try{l.value=await E("enviado-para-embalagem")}catch(s){console.error("Erro ao buscar requisições para embalagem:",s)}});async function b(s){try{await k(s.id_requisicao,{status:"em-embalagem"}),u.push({name:"EmbalagemDetalhes",params:{id:s.id_requisicao}})}catch(a){console.error("Erro ao iniciar conferência da embalagem",a),_("Erro","Não foi possível inicar a conferência")}}return(s,a)=>(o(),r("div",C,[d(B,{title:"Requisições - Embalagem"}),e("main",H,[e("div",P,[a[2]||(a[2]=e("div",{class:"header-container"},[e("h2",{class:"container-title"},"Requisição - Embalagem")],-1)),e("div",S,[e("div",U,[e("table",z,[a[1]||(a[1]=e("thead",null,[e("tr",null,[e("th",null,"Número"),e("th",null,"Data/Hora"),e("th",null,"Unidade"),e("th",null,"Prioridade - Envio"),e("th",{class:"text-center"},"Ações")])],-1)),e("tbody",null,[l.value.length===0?(o(),r("tr",A,a[0]||(a[0]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-500"},"Nenhuma requisição aguardando embalagem.",-1)]))):m("",!0),(o(!0),r(y,null,x(l.value,i=>{var c;return o(),r("tr",{key:i.id_requisicao},[e("td",F,n(i.numero_requisicao),1),e("td",L,n(new Date(i.data_requisicao).toLocaleString("pt-BR")),1),e("td",I,n(i.requisitante_requisicao),1),e("td",M,[e("div",$,[i.prioridade_requisicao?(o(),q(w(R),{key:0,class:"icon-prioridade-ativa",title:"Prioritário"})):m("",!0),e("span",null,n(((c=i.tipo_envio)==null?void 0:c.descricao_tipo_envio_requisicao)||"-"),1)])]),e("td",j,[e("button",{onClick:O=>b(i),class:"button-primary text-xs"},"Embalar",8,G)])])}),128))])])])])])]),d(D,{visible:t.visible,title:t.title,message:t.message,onClose:p},null,8,["visible","title","message"])]))}});const Z=V(J,[["__scopeId","data-v-2846c5d5"]]);export{Z as default};
