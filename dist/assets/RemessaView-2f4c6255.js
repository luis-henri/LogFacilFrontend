import{d as f,r as h,z as b,B as g,D as x,c as r,i as d,a as e,f as u,F as y,x as R,p as N,o,t as n,l as w,m as k,E as q}from"./index-ca90286d.js";import{H as C}from"./Header-d700b98c.js";import{N as E}from"./NotificationPopUp-aebb2319.js";import{r as B}from"./ArrowUpCircleIcon-48335c86.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const V={class:"container"},H={class:"grow p-4 sm:p-6 lg:p-8"},P={class:"page-container"},S={class:"content-wrapper"},U={class:"table-container"},z={class:"responsive-table"},A={key:0},F={"data-label":"Número"},I={"data-label":"Data/Hora"},L={"data-label":"Unidade"},M={"data-label":"Envio"},$={class:"envio-cell"},j={"data-label":"Ações",class:"text-center"},G=["onClick"],J=f({__name:"RemessaView",setup(K){const _=N(),c=h([]),t=b({visible:!1,title:"",message:""});function p(a,s){t.title=a,t.message=s,t.visible=!0}function m(){t.visible=!1}g(async()=>{try{c.value=await x("enviado-para-conferencia-expedicao")}catch(a){console.error("Erro ao buscar requisições para remessa:",a)}});async function v(a){try{await q(a.id_requisicao,{status:"em-conferencia-expedicao"}),_.push({name:"RemessaDetalhes",params:{id:a.id_requisicao}})}catch(s){console.error("Erro ao iniciar expedição",s),p("Erro","Não foi possível iniciar a expedição")}}return(a,s)=>(o(),r("div",V,[d(C,{title:"Requisições - Remessa"}),e("main",H,[e("div",P,[s[2]||(s[2]=e("div",{class:"header-container"},[e("h2",{class:"container-title"},"Conferência - Remessa")],-1)),e("div",S,[e("div",U,[e("table",z,[s[1]||(s[1]=e("thead",null,[e("tr",null,[e("th",null,"Número"),e("th",null,"Data/Hora"),e("th",null,"Unidade"),e("th",null,"Prioridade - Envio"),e("th",{class:"text-center"},"Ações")])],-1)),e("tbody",null,[c.value.length===0?(o(),r("tr",A,s[0]||(s[0]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-500"},"Nenhuma requisição aguardando remessa.",-1)]))):u("",!0),(o(!0),r(y,null,R(c.value,i=>{var l;return o(),r("tr",{key:i.id_requisicao},[e("td",F,n(i.numero_requisicao),1),e("td",I,n(new Date(i.data_requisicao).toLocaleString("pt-BR")),1),e("td",L,n(i.requisitante_requisicao),1),e("td",M,[e("div",$,[i.prioridade_requisicao?(o(),w(k(B),{key:0,class:"icon-prioridade-ativa",title:"Prioritário"})):u("",!0),e("span",null,n(((l=i.tipo_envio)==null?void 0:l.descricao_tipo_envio_requisicao)||"-"),1)])]),e("td",j,[e("button",{onClick:O=>v(i),class:"button-primary text-xs"},"Iniciar Conferência",8,G)])])}),128))])])])])])]),d(E,{visible:t.visible,title:t.title,message:t.message,onClose:m},null,8,["visible","title","message"])]))}});const Z=D(J,[["__scopeId","data-v-819f65ba"]]);export{Z as default};
