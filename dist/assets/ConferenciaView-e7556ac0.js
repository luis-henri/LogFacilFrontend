import{d as b,r as u,z as g,B as y,D as C,c as r,i as _,a as e,f as p,F as x,x as N,p as w,o as s,t as n,l as k,m as q,E}from"./index-ca90286d.js";import{H as B}from"./Header-d700b98c.js";import{N as D}from"./NotificationPopUp-aebb2319.js";import{r as V}from"./ArrowUpCircleIcon-48335c86.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const S={class:"container"},H={class:"grow p-4 sm:p-6 lg:p-8"},P={class:"page-container"},A={class:"content-wrapper"},U={class:"table-container"},z={class:"responsive-table"},F={key:0},I={"data-label":"Número"},L={"data-label":"Data/Hora"},M={"data-label":"Unidade"},$={"data-label":"Envio"},j={class:"envio-cell"},G={"data-label":"Ações",class:"text-center"},J=["onClick","disabled"],K=b({__name:"ConferenciaView",setup(O){const f=w(),c=u([]),l=u({}),i=g({visible:!1,title:"",message:""});function m(o,a){i.title=o,i.message=a,i.visible=!0}function v(){i.visible=!1}y(async()=>{try{c.value=await C("enviado-para-conferencia-separacao")}catch(o){console.error("Erro ao buscar requisições para conferência:",o)}});async function h(o){try{await E(o.id_requisicao,{status:"em-conferencia-separacao"}),f.push({name:"ConferenciaDetalhes",params:{id:o.id_requisicao}})}catch(a){console.error("Erro ao iniciar Conferência:",a),m("Erro","Nâo foi possível inicar a conferência")}}return(o,a)=>(s(),r("div",S,[_(B,{title:"Requisições - Conferência"}),e("main",H,[e("div",P,[a[2]||(a[2]=e("div",{class:"header-container"},[e("h2",{class:"container-title"},"Conferência - Separação")],-1)),e("div",A,[e("div",U,[e("table",z,[a[1]||(a[1]=e("thead",null,[e("tr",null,[e("th",null,"Número"),e("th",null,"Data/Hora"),e("th",null,"Unidade"),e("th",null,"Prioridade - Envio"),e("th",{class:"text-center"},"Ações")])],-1)),e("tbody",null,[c.value.length===0?(s(),r("tr",F,a[0]||(a[0]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-500"},"Nenhuma requisição aguardando conferência.",-1)]))):p("",!0),(s(!0),r(x,null,N(c.value,t=>{var d;return s(),r("tr",{key:t.id_requisicao},[e("td",I,n(t.numero_requisicao),1),e("td",L,n(new Date(t.data_requisicao).toLocaleString("pt-BR")),1),e("td",M,n(t.requisitante_requisicao),1),e("td",$,[e("div",j,[t.prioridade_requisicao?(s(),k(q(V),{key:0,class:"icon-prioridade-ativa",title:"Prioritário"})):p("",!0),e("span",null,n(((d=t.tipo_envio)==null?void 0:d.descricao_tipo_envio_requisicao)||"-"),1)])]),e("td",G,[e("button",{onClick:Q=>h(t),class:"button-primary text-xs",disabled:l.value[t.id_requisicao]},n(l.value[t.id_requisicao]?"Aguarde...":"Iniciar Conferência"),9,J)])])}),128))])])])])])]),_(D,{visible:i.visible,title:i.title,message:i.message,onClose:v},null,8,["visible","title","message"])]))}});const ee=R(K,[["__scopeId","data-v-83d979ce"]]);export{ee as default};
