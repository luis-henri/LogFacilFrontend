import{d as w,u as V,r as u,w as $,c,a as s,b as y,v as b,e as M,n as L,t as _,f as k,o as n,g as P,h as B,i as g,j as F,k as S,l as h,m,p as D}from"./index-ca90286d.js";import{_ as I}from"./logosvg-29db6bb5.js";import{i as A}from"./validators-53c84f5e.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{r as N,a as U}from"./UserCircleIcon-fd25655d.js";const j={key:0,class:"error-message-text"},q=w({__name:"CpfInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(p){const l=V(p,"modelValue"),e=u(null);$(l,o=>{if(!o)return;let t=o.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})\.(\d{3})(\d)/,"$1.$2.$3").replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/,"$1.$2.$3-$4");t!==o&&(l.value=t)});const i=()=>{if(!l.value){e.value=null;return}A(l.value)?e.value=null:e.value="Por favor, insira um CPF válido."};return(o,r)=>(n(),c("div",null,[s("div",{class:L(["input-group",{"error-border":!!e.value}])},[y(s("input",{id:"cpf",type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),onBlur:i,maxlength:"14",placeholder:"CPF",class:"input-field"},null,544),[[b,l.value]]),M(o.$slots,"default",{},void 0,!0)],2),e.value?(n(),c("p",j,_(e.value),1)):k("",!0)]))}});const E=C(q,[["__scopeId","data-v-71392253"]]);function z(p,l){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}const R={class:"login-container"},T={class:"login-box"},G={key:0,class:"error-message"},H={class:"input-group"},J=["type"],K=["disabled"],O=w({__name:"LoginView",setup(p){const l=P();D();const e=u(""),i=u(""),o=u(!1),r=u(!1),t=u("");function f(){o.value=!o.value}async function x(){var v,a;if(!e.value||!i.value){t.value="Por favor, preencha CPF e senha.";return}r.value=!0,t.value="";try{await l.login({cpf:e.value.replace(/\D/g,""),password:i.value})}catch(d){t.value=((a=(v=d.response)==null?void 0:v.data)==null?void 0:a.message)||"Falha no login. Verifique as suas credenciais."}finally{r.value=!1}}return(v,a)=>(n(),c("div",R,[s("div",T,[a[2]||(a[2]=s("img",{src:I,alt:"Logo do Log Fácil"},null,-1)),a[3]||(a[3]=s("h2",null,"Faça seu login",-1)),t.value?(n(),c("p",G,_(t.value),1)):k("",!0),s("form",{onSubmit:B(x,["prevent"])},[s("div",null,[g(E,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=d=>e.value=d)},{default:F(()=>[g(m(N),{class:"icon"})]),_:1},8,["modelValue"])]),s("div",H,[y(s("input",{type:o.value?"text":"password","onUpdate:modelValue":a[1]||(a[1]=d=>i.value=d),placeholder:"Senha",required:""},null,8,J),[[S,i.value]]),o.value?(n(),h(m(z),{key:1,onClick:f,class:"icon clickable"})):(n(),h(m(U),{key:0,onClick:f,class:"icon clickable"}))]),s("button",{type:"submit",class:"button-primary",disabled:r.value},_(r.value?"Conectando...":"Entrar"),9,K)],32)])]))}});const ee=C(O,[["__scopeId","data-v-1b97a3f8"]]);export{ee as default};
