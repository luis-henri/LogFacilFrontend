import{d as h,r as u,z as g,B as y,D as x,c as r,i as p,a as e,f as _,F as N,x as q,p as S,o as i,t as n,l as k,m as E,E as w}from"./index-ca90286d.js";import{H as D}from"./Header-d700b98c.js";import{N as B}from"./NotificationPopUp-aebb2319.js";import{r as C}from"./ArrowUpCircleIcon-48335c86.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const R={class:"container"},H={class:"grow p-4 sm:p-6 lg:p-8"},P={class:"page-container"},U={class:"table-scroll-container"},z={class:"table-container responsive-table"},A={key:0},F={key:1},L={"data-label":"Número"},I={"data-label":"Data/Hora"},M={"data-label":"Unidade"},T={"data-label":"Envio"},$={class:"envio-cell"},j={"data-label":"Ações",class:"text-center"},G=["onClick"],J=h({__name:"SeparacaoView",setup(K){const v=S(),c=u([]),l=u(!0),o=g({visible:!1,title:"",message:""});function m(t){var a;return(a=t.tipo_envio)!=null&&a.descricao_tipo_envio_requisicao?t.tipo_envio.descricao_tipo_envio_requisicao:"-"}function d(t,a){o.title=t,o.message=a,o.visible=!0}function f(){o.visible=!1}y(async()=>{try{c.value=await x("enviado-para-separacao")}catch(t){console.error("Erro ao buscar requisições para separação:",t),d("Erro","Não foi possível carregar as requisições")}finally{l.value=!1}});async function b(t){try{await w(t.id_requisicao,{status:"em-separacao"}),v.push({name:"SeparacaoDetalhes",params:{id:t.id_requisicao}})}catch(a){console.error("Erro ao iniciar separação:",a),d("Erro","Não foi possível iniciar a separação")}}return(t,a)=>(i(),r("div",R,[p(D),e("main",H,[e("div",P,[a[3]||(a[3]=e("div",{class:"header-container"},[e("h2",{class:"container-title"},"Requisições - Separação")],-1)),e("div",U,[e("div",z,[e("table",null,[a[2]||(a[2]=e("thead",null,[e("tr",null,[e("th",null,"Número"),e("th",null,"Data/Hora"),e("th",null,"Unidade"),e("th",null,"Prioridade - Envio"),e("th",{class:"text-center"},"Ações")])],-1)),e("tbody",null,[l.value?(i(),r("tr",A,a[0]||(a[0]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-500"},"Carregando requisições...",-1)]))):c.value.length===0?(i(),r("tr",F,a[1]||(a[1]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-500"},"Nenhuma requisição aguardando separação.",-1)]))):_("",!0),(i(!0),r(N,null,q(c.value,s=>(i(),r("tr",{key:s.id_requisicao},[e("td",L,n(s.numero_requisicao),1),e("td",I,n(new Date(s.data_requisicao).toLocaleString("pt-BR")),1),e("td",M,n(s.requisitante_requisicao),1),e("td",T,[e("div",$,[s.prioridade_requisicao?(i(),k(E(C),{key:0,class:"icon-prioridade-ativa",title:"Prioritário"})):_("",!0),e("span",null,n(m(s)),1)])]),e("td",j,[e("button",{onClick:O=>b(s),class:"button-primary text-xs"}," iniciar Separação ",8,G)])]))),128))])])])])])]),p(B,{visible:o.visible,title:o.title,message:o.message,onClose:f},null,8,["visible","title","message"])]))}});const ee=V(J,[["__scopeId","data-v-376bd419"]]);export{ee as default};
